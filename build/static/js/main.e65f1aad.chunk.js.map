{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","PersonForm","handleSubmit","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","type","Person","person","handleDelete","name","number","onClick","id","Persons","persons","map","p","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","style","isError","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","personService","personsToShow","toUpperCase","indexOf","event","target","preventDefault","find","window","confirm","changedPerson","setTimeout","catch","error","updatePerson","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e65f1aad.chunk.js","sourcesContent":["const Filter = ({filter, handleFilter}) => {\r\n    return(\r\n        <div>filter shown with <input value={filter} onChange={handleFilter} /></div>\r\n    );\r\n}\r\n\r\nexport default Filter;","const PersonForm = ({handleSubmit, handleNameChange, handleNumberChange, newName, newNumber}) => {\r\n    return(\r\n        <form onSubmit={handleSubmit}>\r\n            <div>name: <input value={newName} onChange={handleNameChange} /></div>\r\n            <div>number: <input value={newNumber} onChange={handleNumberChange} /></div>\r\n            <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default PersonForm;","const Person = ({person, handleDelete}) => {\r\n    return(\r\n        <div>\r\n            {person.name} {person.number} \r\n            <button onClick={() => handleDelete(person.id)}>delete</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Person;","import Person from './Person';\r\n\r\nconst Persons = ({persons, handleDelete}) => {\r\n    return(\r\n        <>\r\n            {\r\n                persons.map(p => <Person key={p.name} person={p} handleDelete={handleDelete} />)\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Persons;","import axios from \"axios\";\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nexport default { getAll, create, remove, update }","const Notification = ({message}) => {\r\n    if(message.message === null){\r\n        return null;\r\n    }\r\n\r\n    const style = message.isError ? \"error\" : \"notification\";\r\n\r\n    return(\r\n        <div className={style}>\r\n            {message.message}\r\n        </div>\r\n    );\r\n    \r\n}\r\n\r\nexport default Notification;","import { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personService from './services/persons';\nimport Notification from './components/Notification';\nimport './index.css';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const [message, setMessage] = useState({message: null, isError: null});\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => setPersons(response));\n  }, [])\n\n  const personsToShow = filter === ''\n    ? persons\n    : persons.filter(person => person.name.toUpperCase().indexOf(filter.toUpperCase()) > -1);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  const updatePerson = person => {\n    const changedPerson = {...person, number: newNumber};\n    personService\n      .update(person.id, changedPerson)\n      .then(response => {\n        setPersons(persons.map(p => p.id !== person.id ? p : response));\n        setNewName('');\n        setNewNumber('');\n        setMessage({message: `Updated number of ${response.name}`, isError: false});\n        setTimeout(() => { setMessage({message: null, isError: null}) }, 5000);\n      })\n      .catch(error => {\n        setMessage({ message: `The person '${person.name}' was already deleted from server`, isError: true});\n        setTimeout(() => { setMessage({message: null, isError: null}) }, 5000);\n        setPersons(persons.filter(p => p.id !== person.id));\n      });\n  }\n\n  const addPerson = () => {\n    const personObject = {\n      name: newName,\n      number: newNumber\n    };\n\n    personService\n      .create(personObject)\n      .then(response => {\n        setPersons([...persons, response]);\n        setNewName('');\n        setNewNumber('');\n        setMessage({message: `Added ${response.name}`, isError: false});\n        setTimeout(() => { setMessage({message: null, isError: null}) }, 5000);\n      });\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const person = persons.find(person => person.name === newName);\n\n    if(person){\n      \n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one`)){\n        updatePerson(person);\n      }\n\n    } else {\n      addPerson();\n    }\n  }\n\n  const handleFilter = (event) => {    \n    setFilter(event.target.value);\n  }\n\n  const handleDelete = (id) => {\n    const personToDelete = persons.filter(p => p.id === id)[0];\n    \n    if(window.confirm(`Delete ${personToDelete.name} ?`)){\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== id));\n        })\n        .catch(error => {\n          setMessage({ message: `The person '${personToDelete.name}' was already deleted from server`, isError: true});\n          setTimeout(() => { setMessage({message: null, isError: null}) }, 5000);\n          setPersons(persons.filter(p => p.id !== id));\n        });\n    }\n    \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter filter={filter} handleFilter={handleFilter} />\n      <h3>add a new</h3>\n      <PersonForm \n        handleSubmit={handleSubmit}\n        handleNumberChange={handleNumberChange}\n        handleNameChange={handleNameChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} handleDelete={handleDelete} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}